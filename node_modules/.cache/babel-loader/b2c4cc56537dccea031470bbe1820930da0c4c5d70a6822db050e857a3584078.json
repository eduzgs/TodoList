{"ast":null,"code":"import _slicedToArray from\"/home/edu/Workspace/personalProyects/todo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";// localStorage.setItem('TODOS_V1', JSON.stringify(list))\n// localStorage.removeItem('TODOS_V1', list)\nfunction useLocalStorage(itemName,initialValue){var _React$useState=React.useState(initialValue),_React$useState2=_slicedToArray(_React$useState,2),item=_React$useState2[0],setItem=_React$useState2[1];var _React$useState3=React.useState(true),_React$useState4=_slicedToArray(_React$useState3,2),loading=_React$useState4[0],setLoading=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),error=_React$useState6[0],setError=_React$useState6[1];React.useEffect(function(){setTimeout(function(){try{var localStorageItem=localStorage.getItem(itemName);var parsedItem;if(!localStorageItem){localStorage.setItem(itemName,JSON.stringify(initialValue));parsedItem=initialValue;}else{parsedItem=JSON.parse(localStorageItem);setItem(parsedItem);}setLoading(false);}catch(error){setLoading(false);setError(true);}},2000);},[]);var saveItem=function saveItem(newItem){localStorage.setItem(itemName,JSON.stringify(newItem));setItem(newItem);};return{item:item,saveItem:saveItem,loading:loading,error:error};}export{useLocalStorage};","map":{"version":3,"names":["React","useLocalStorage","itemName","initialValue","_React$useState","useState","_React$useState2","_slicedToArray","item","setItem","_React$useState3","_React$useState4","loading","setLoading","_React$useState5","_React$useState6","error","setError","useEffect","setTimeout","localStorageItem","localStorage","getItem","parsedItem","JSON","stringify","parse","saveItem","newItem"],"sources":["/home/edu/Workspace/personalProyects/todo/src/TodoContext/useLocalStorage.js"],"sourcesContent":["import React from \"react\";\n// localStorage.setItem('TODOS_V1', JSON.stringify(list))\n// localStorage.removeItem('TODOS_V1', list)\nfunction useLocalStorage(itemName, initialValue) {\n    const [item, setItem] = React.useState(initialValue);\n    const [loading, setLoading] = React.useState(true)\n    const [error, setError] = React.useState(false)\n\n    React.useEffect( () => {\n        setTimeout(() => {\n            try{\n                const localStorageItem = localStorage.getItem(itemName);\n                let parsedItem;\n                if (!localStorageItem) {\n                    localStorage.setItem(itemName, JSON.stringify(initialValue));\n                    parsedItem = initialValue;\n                  } else {\n                      parsedItem = JSON.parse(localStorageItem);\n                      setItem(parsedItem)\n                  }\n                setLoading(false)\n                } catch(error){\n                    setLoading(false)\n                    setError(true)\n                }\n        }, 2000)\n    }, [])\n    \n  \n    const saveItem = (newItem) => {\n      localStorage.setItem(itemName, JSON.stringify(newItem));\n      setItem(newItem);\n    };\n  \n    return {\n        item,\n        saveItem,\n        loading,\n        error\n    };\n  }\n\n  export { useLocalStorage }"],"mappings":"+HAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB;AACA;AACA,QAAS,CAAAC,eAAeA,CAACC,QAAQ,CAAEC,YAAY,CAAE,CAC7C,IAAAC,eAAA,CAAwBJ,KAAK,CAACK,QAAQ,CAACF,YAAY,CAAC,CAAAG,gBAAA,CAAAC,cAAA,CAAAH,eAAA,IAA7CI,IAAI,CAAAF,gBAAA,IAAEG,OAAO,CAAAH,gBAAA,IACpB,IAAAI,gBAAA,CAA8BV,KAAK,CAACK,QAAQ,CAAC,IAAI,CAAC,CAAAM,gBAAA,CAAAJ,cAAA,CAAAG,gBAAA,IAA3CE,OAAO,CAAAD,gBAAA,IAAEE,UAAU,CAAAF,gBAAA,IAC1B,IAAAG,gBAAA,CAA0Bd,KAAK,CAACK,QAAQ,CAAC,KAAK,CAAC,CAAAU,gBAAA,CAAAR,cAAA,CAAAO,gBAAA,IAAxCE,KAAK,CAAAD,gBAAA,IAAEE,QAAQ,CAAAF,gBAAA,IAEtBf,KAAK,CAACkB,SAAS,CAAE,UAAM,CACnBC,UAAU,CAAC,UAAM,CACb,GAAG,CACC,GAAM,CAAAC,gBAAgB,CAAGC,YAAY,CAACC,OAAO,CAACpB,QAAQ,CAAC,CACvD,GAAI,CAAAqB,UAAU,CACd,GAAI,CAACH,gBAAgB,CAAE,CACnBC,YAAY,CAACZ,OAAO,CAACP,QAAQ,CAAEsB,IAAI,CAACC,SAAS,CAACtB,YAAY,CAAC,CAAC,CAC5DoB,UAAU,CAAGpB,YAAY,CAC3B,CAAC,IAAM,CACHoB,UAAU,CAAGC,IAAI,CAACE,KAAK,CAACN,gBAAgB,CAAC,CACzCX,OAAO,CAACc,UAAU,CAAC,CACvB,CACFV,UAAU,CAAC,KAAK,CAAC,CACjB,CAAE,MAAMG,KAAK,CAAC,CACVH,UAAU,CAAC,KAAK,CAAC,CACjBI,QAAQ,CAAC,IAAI,CAAC,CAClB,CACR,CAAC,CAAE,IAAI,CAAC,CACZ,CAAC,CAAE,EAAE,CAAC,CAGN,GAAM,CAAAU,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,OAAO,CAAK,CAC5BP,YAAY,CAACZ,OAAO,CAACP,QAAQ,CAAEsB,IAAI,CAACC,SAAS,CAACG,OAAO,CAAC,CAAC,CACvDnB,OAAO,CAACmB,OAAO,CAAC,CAClB,CAAC,CAED,MAAO,CACHpB,IAAI,CAAJA,IAAI,CACJmB,QAAQ,CAARA,QAAQ,CACRf,OAAO,CAAPA,OAAO,CACPI,KAAK,CAALA,KACJ,CAAC,CACH,CAEA,OAASf,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}